function brainfuck(src,input){let instrs=src.split(""),log="",output="",inputs=null!=input?input.split(""):[],inputsIndex=0,data=[0,null],ptr=0,bracketIds=[],skipCounter=0,i=0;for(;i<instrs.length;){switch(instrs[i]){case">":log+=">",ptr++,null==data[ptr]&&(data[ptr]=0,data.push(null));break;case"<":log+="<",ptr--;break;case"+":log+="+",data[ptr]=++data[ptr]%256;break;case"-":log+="-",data[ptr]=(data[ptr]+255)%256;break;case".":log+=".",ptr>=0&&(output+=String.fromCharCode(data[ptr]));break;case",":log+=",",ptr>=0&&(inputsIndex<inputs.length?data[ptr]=inputs[inputsIndex].charCodeAt(0)%256:data[ptr]=0),inputsIndex++;break;case"[":log+="[",0!=data[ptr]?bracketIds.push(i):skipCounter++;break;case"]":log+="]",0!=data[ptr]?i=bracketIds.pop()-1:0==skipCounter?bracketIds.pop():skipCounter--}i++}return data.pop(),{output:output,log:log,data:data}}